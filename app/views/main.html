<div class="row">
  <div class="col-sm-10">
    <h1 class="inline">Firetasks Translate</h1>
  </div>
  <div class="col-sm-2">
    <select class="form-control"
      ng-model="lang"
      ng-options="option for option in options"
      ng-change="saveLang()">
    </select>
  </div>
</div>

<hr>

<div class="well">
  <button ng-click="login()">Autenticar</button>
  <button ng-click="logout()">Encerrar</button>
  <hr>
  <pre>{{currentUser | json}}</pre>
</div>

<ul class="list-group">
  <li class="list-group-item animate-repeat animate-show-hide"
    ng-repeat="todo in todos"
    ng-show="!todo.done || !hide"
    ng-class="{'done':todo.done}">

    <img ng-src="{{todo.user.photoURL}}"
      class="img-circle pull-left"
      style="margin-right: 10px;"
      width="40">

    <input type="checkbox"
      class="pull-right"
      ng-model="todo.done"
      ng-disabled="!currentUser"
      ng-change="todos.$save(todo)">

    <h4 class="list-group-item-heading">
      {{todo.translate[lang] || (todo.lang == lang && todo.title || '...')}}
    </h4>

    <p class="list-group-item-text">
      {{todo.createdAt | date:'medium'}}
    </p>

  </li>
</ul>

<div class="progress">
  <div class="progress-bar" style="width: {{progress()}}%"></div>
</div>

<form ng-submit="addTodo(task, lang, currentUser); task = null">
  <div class="input-group">
    <input type="text"
      class="form-control"
      ng-model="task"
      ng-disabled="!currentUser"
      placeholder="{{'NEW_TASK_INPUT' | translate}}">
    <span class="input-group-btn">
      <button type="submit"
        class="btn btn-default"
        ng-disabled="!currentUser || !task">
        <i class="glyphicon glyphicon-plus-sign"></i>
      </button>
    </span>
  </div>
</form>

<hr>

<div class="row">
  <div class="col-xs-6">
    <button type="button"
      class="btn btn-warning btn-block"
      ng-click="hide = !hide; saveHide()">
      {{hide && 'SHOW_TASKS_BUTTON' || 'HIDE_TASKS_BUTTON' | translate}}
    </button>
  </div>
  <div class="col-xs-6">
    <button type="button"
      class="btn btn-danger btn-block"
      ng-click="clean()"
      ng-disabled="!currentUser">
      {{'REMOVE_TASKS_BUTTON' | translate}}
    </button>
  </div>
</div>
